{% extends "base.html" %}
{% import "bootstrap/wtf.html" as wtf %}


{% block page_content %}


<div class="row" style="max-width:200px;">
	<table class="table table-condensed">
		<thead>
			<tr class="danger">
				<th>待办事项</th>
				<th><button class="btn btn-xs btn-link" data-toggle="modal" data-target="#add" title="添加">
					<span class="glyphicon glyphicon-plus"></span>
					</button>
					<div class="modal fade" id="add" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel_add" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel_add">
										<span class="glyphicon glyphicon-plus"></span>
										&nbsp;添加</h4>
								</div>
								<div class="modal-body">{{ wtf.quick_form(add_form,
									form_type = "horizontal",
									button_map={'add_submit':'primary btn-block'}) }}
								</div>
								<div class="modal-footer">
								</div>
							</div>
						</div>
					</div>
				</th>				
			</tr>			
		</thead>		
		{% for edit_form in edit_forms %}
		<tbody>	
			<tr class="{{ loop.cycle('warning', 'success') }}">
				<td>{{ edit_form.edit_time.data }}</td>
				<td>
					<button class="btn btn-xs btn-link" data-toggle="modal" data-target="#del{{ loop.index }}" title="删除">
						<span class="glyphicon glyphicon-trash"></span>
					</button>
					<div class="modal fade" id="del{{ loop.index }}" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel_del" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel_del">
										<span class="glyphicon glyphicon-trash"></span>
										&nbsp;删除</h4>
								</div>
								<div class="modal-body">{{ wtf.quick_form(edit_form,
									form_type = "horizontal",
									button_map={'del_submit':'danger btn-block', 'edit_submit':'primary hidden'}) }}
								</div>
								<div class="modal-footer">
								</div>
							</div>
						</div>
					</div>
				</td>				
			</tr>
			<tr class="{{ loop.cycle('warning', 'success') }}">
				<td>{{ edit_form.edit_detailed.data }}</td>
				<td>
					<button class="btn btn-xs btn-link" data-toggle="modal" data-target="#edit{{ loop.index }}" title="修改">
						<span class="glyphicon glyphicon-edit"></span>
					</button>
					<div class="modal fade" id="edit{{ loop.index }}" data-backdrop="static" data-keyboard="false" tabindex="-1" role="dialog" aria-labelledby="myModalLabel_edit" aria-hidden="true">
						<div class="modal-dialog">
							<div class="modal-content">
								<div class="modal-header">
									<button type="button" class="close" data-dismiss="modal" aria-hidden="true">&times;</button>
									<h4 class="modal-title" id="myModalLabel_edit">
										<span class="glyphicon glyphicon-edit"></span>
										&nbsp;修改</h4>
								</div>
								<div class="modal-body">{{ wtf.quick_form(edit_form,
									form_type = "horizontal",
									button_map={'edit_submit':'primary btn-block', 'del_submit':'danger hidden'}) }}
								</div>
								<div class="modal-footer">
								</div>
							</div>
						</div>
					</div>
				</td>
			</tr>
		</tbody>
		{% endfor %}
	</table>
</div>

{% endblock %}


<!--
<iframe src="http://127.0.0.1:5000/" width="200px" height="400px" frameborder="0">
-->







